var x=Object.defineProperty,w=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var h=(s,e,o)=>e in s?x(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,g=(s,e)=>{for(var o in e||(e={}))A.call(e,o)&&h(s,o,e[o]);if(m)for(var o of m(e))C.call(e,o)&&h(s,o,e[o]);return s},v=(s,e)=>w(s,b(e));import{a as p,o as l,c as d,b as a,w as $,v as k,t as u,d as L,F as y,r as S,p as D,e as N,f as I,g as O,h as V}from"./vendor.589ebf20.js";const F=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}};F();const _="/api/posts/";class i{static getPosts(){return new Promise(async(e,o)=>{try{const t=(await p.get(_)).data;e(t.map(r=>v(g({},r),{createdAt:new Date(r.createdAt)})))}catch(c){o(c)}})}static insertPost(e){return p.post(_,{text:e})}static deletePost(e){return p.delete(`${_}${e}`)}}var P=(s,e)=>{const o=s.__vccOpts||s;for(const[c,t]of e)o[c]=t;return o};const B={name:"PostComponent",data(){return{posts:[],error:"",text:""}},async created(){try{this.posts=await i.getPosts()}catch(s){this.error=s.message}},methods:{async createPost(){await i.insertPost(this.text),this.posts=await i.getPosts(),this.text=""},async deletePost(s){await i.deletePost(s),this.posts=await i.getPosts()}}},f=s=>(D("data-v-bf90a7f6"),s=s(),N(),s),M={class:"container"},E=f(()=>a("h1",null,"Latest Posts",-1)),q={class:"create-post"},K=f(()=>a("label",{for:"create-post"},"Say something...",-1)),T=f(()=>a("hr",null,null,-1)),U={key:0,class:"error"},Y={class:"posts-container"},j=["onDblclick"],z={class:"created-at"},G={class:"text"};function H(s,e,o,c,t,r){return l(),d("div",M,[E,a("div",q,[K,$(a("input",{type:"text",id:"create-post","onUpdate:modelValue":e[0]||(e[0]=n=>t.text=n),placeholder:"Create a post"},null,512),[[k,t.text]]),a("button",{onClick:e[1]||(e[1]=(...n)=>r.createPost&&r.createPost(...n))},"Post!")]),T,t.error?(l(),d("p",U,u(t.error),1)):L("",!0),a("div",Y,[(l(!0),d(y,null,S(t.posts,n=>(l(),d("div",{class:"post",key:n._id,onDblclick:ee=>r.deletePost(n._id)},[a("div",z,u(`${n.createdAt.getDate()}/${n.createdAt.getMonth()}/${n.createdAt.getFullYear()}`),1),a("p",G,u(n.text),1)],40,j))),128))])])}var J=P(B,[["render",H],["__scopeId","data-v-bf90a7f6"]]),Q="/assets/logo.03d6d6da.png";const R={name:"app",components:{PostComponent:J}},W=a("img",{alt:"Vue logo",src:Q},null,-1);function X(s,e,o,c,t,r){const n=I("PostComponent");return l(),d(y,null,[W,O(n)],64)}var Z=P(R,[["render",X]]);V(Z).mount("#app");

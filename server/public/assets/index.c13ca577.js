var te=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var X=(e,t,a)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,x=(e,t)=>{for(var a in t||(t={}))re.call(t,a)&&X(e,a,t[a]);if(Q)for(var a of Q(t))ae.call(t,a)&&X(e,a,t[a]);return e},q=(e,t)=>se(e,oe(t));import{r as ne,a as ie,c as D,b as _,o as c,d,e as n,f as P,w as j,u as N,t as p,g as m,p as I,h as T,i as F,j as W,F as U,k as v,v as y,l as Y,m as B,n as ce,q as b,s as Z,x as le,y as S,z as de,A as ue,B as _e}from"./vendor.74a59342.js";const me=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}};me();var pe="/assets/logo.03d6d6da.png";class k{static getAccessToken(){return localStorage.getItem("access_token")}static setAccessToken(t){localStorage.setItem("access_token",t)}static setRefreshToken(t){localStorage.setItem("refresh_token",t)}static getRefreshToken(){return localStorage.getItem("refresh_token")}static clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}}const w=ne({userData:{user:null},isLoggedIn:!1,loading:!1,error:""}),ge={getIsLoggedIn:()=>D(()=>w.isLoggedIn),getLoading:()=>D(()=>w.loading),getError:()=>D(()=>w.error),getUser:()=>D(()=>w.userData)},ee={setUser:e=>{ee.setIsLoggedIn(!0),w.userData.user=e},setIsLoggedIn:e=>{w.isLoggedIn=e,e===!1&&(w.userData.user=null,k.clearTokens())},setLoading:e=>{w.loading=e},setError:e=>{w.error=e}},ve={decodeJWT:e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch{return null}}};var H=()=>x(x(x({state:ie(w)},ge),ee),ve);var u=(e,t)=>{const a=e.__vccOpts||e;for(const[i,s]of t)a[i]=s;return a};const he=e=>(I("data-v-69d9317f"),e=e(),T(),e),fe={id:"nav"},ye=he(()=>n("img",{class:"logo",src:pe,alt:""},null,-1)),we={class:"nav-items"},$e=F("Home"),be=F("About"),Pe=F("Profile"),ke={key:0},xe=["src"],Se={name:"Header"},Ae=Object.assign(Se,{setup(e){const{getIsLoggedIn:t,getUser:a}=H(),i=t(),s=a();return(r,o)=>{var g,f,M,R,O,E;const l=_("router-link");return c(),d("header",null,[n("nav",fe,[ye,n("div",we,[P(l,{to:"/"},{default:j(()=>[$e]),_:1}),P(l,{to:"/about"},{default:j(()=>[be]),_:1}),P(l,{to:"/profile/"+((g=N(s).user)==null?void 0:g.userName)},{default:j(()=>[Pe]),_:1},8,["to"])]),N(i)?(c(),d("p",ke,p((R=(M=(f=N(s))==null?void 0:f.user)==null?void 0:M.userName)!=null?R:""),1)):m("",!0),N(i)?(c(),d("img",{key:1,class:"user",src:(E=(O=N(s).user)==null?void 0:O.img)!=null?E:"https://picsum.photos/seed/user/50",alt:""},null,8,xe)):m("",!0)])])}}});var Ie=u(Ae,[["__scopeId","data-v-69d9317f"]]);const Te={name:"Footer"},Ne=e=>(I("data-v-328c9808"),e=e(),T(),e),Le=Ne(()=>n("p",null,"OmniList \xA9 2022",-1)),Ce=[Le];function Fe(e,t,a,i,s,r){return c(),d("footer",null,Ce)}var Ue=u(Te,[["render",Fe],["__scopeId","data-v-328c9808"]]);const h=W.create();h.interceptors.request.use(e=>{const t=k.getAccessToken();return t&&(e.headers.Authorization="Bearer "+t),e.headers["Content-Type"]="application/json",e},e=>{Promise.reject(e)});h.interceptors.response.use(async e=>e,async e=>{if(e.response&&e.response.status===403){console.log("token expired");const t=await Ve(e);return console.log("retrying request"),t}return Promise.reject(e)});let z=!1,K=[];async function Ve(e){try{const{response:t}=e,a=k.getRefreshToken();if(!a)return console.log("no refresh token"),Promise.reject(e);const i=new Promise(async s=>{await Re(r=>{t.config.headers.Authorization="Bearer "+r,s(W(t.config))})});if(!z){console.log("fetching access token"),z=!0;const s=await W({method:"post",url:"/api/refresh",data:{token:a}});if(!s.data)return Promise.reject(e);const r=s.data.accessToken;k.setAccessToken(r),z=!1,await Me(r)}return i}catch(t){return Promise.reject(t)}}async function Me(e){K.forEach(t=>t(e)),K=[]}async function Re(e){K.push(e)}const A="/api/";class C{static async getUsers(){return new Promise(async(t,a)=>{try{const s=(await h.get(`${A}user`)).data;t(s.map(r=>q(x({},r),{createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)})))}catch(i){a(i.response)}})}static async getUser(t){try{return await h.get(`${A}user/${t}`)}catch(a){return a.response}}static async getUserByUsername(t){try{return await h.get(`${A}user/username/${t}`)}catch(a){return a.response}}static async registerUser(t){try{return await h.post(`${A}register`,t)}catch(a){return a.response}}static async loginUser(t){try{return await h.post(`${A}login`,t)}catch(a){return a.response}}static async logoutUser(t){try{return await h.post(`${A}logout`,t)}catch(a){return a.response}}}const Oe={name:"App",components:{Header:Ie,Footer:Ue},async beforeCreate(){try{const{setUser:e,decodeJWT:t}=H(),a=k.getAccessToken();if(a){const i=t(a),{user:s}=i.user,r=await C.getUser(s._id);r.status===200&&e(r.data)}}catch(e){console.log(e.message)}}};function Ee(e,t,a,i,s,r){const o=_("Header"),l=_("router-view"),g=_("Footer");return c(),d(U,null,[P(o),n("main",null,[P(l)]),P(g)],64)}var De=u(Oe,[["render",Ee]]);const J="/api/posts/";class L{static getPosts(){return new Promise(async(t,a)=>{try{const s=(await h.get(J)).data;t(s.map(r=>q(x({},r),{createdAt:new Date(r.createdAt)})))}catch(i){a(i)}})}static insertPost(t){return h.post(J,{text:t})}static deletePost(t){return h.delete(`${J}${t}`)}}const je={name:"PostComponent",data(){return{posts:[],error:"",text:""}},async created(){try{this.posts=await L.getPosts()}catch(e){this.error=e.message}},methods:{async createPost(){await L.insertPost(this.text),this.posts=await L.getPosts(),this.text=""},async deletePost(e){await L.deletePost(e),this.posts=await L.getPosts()}}},G=e=>(I("data-v-37eb1acf"),e=e(),T(),e),Be={class:"container"},He=G(()=>n("h1",null,"Latest Posts",-1)),qe={class:"create-post"},ze=G(()=>n("label",{for:"create-post"},"Say something...",-1)),Je=G(()=>n("hr",null,null,-1)),We={key:0,class:"error"},Ke={class:"posts-container"},Ye=["onDblclick"],Ge={class:"created-at"},Qe={class:"text"};function Xe(e,t,a,i,s,r){return c(),d("div",Be,[He,n("div",qe,[ze,v(n("input",{type:"text",id:"create-post","onUpdate:modelValue":t[0]||(t[0]=o=>s.text=o),placeholder:"Create a post"},null,512),[[y,s.text]]),n("button",{onClick:t[1]||(t[1]=(...o)=>r.createPost&&r.createPost(...o))},"Post!")]),Je,s.error?(c(),d("p",We,p(s.error),1)):m("",!0),n("div",Ke,[(c(!0),d(U,null,Y(s.posts,o=>(c(),d("div",{class:"post",key:o._id,onDblclick:l=>r.deletePost(o._id)},[n("div",Ge,p(`${o.createdAt.getDate()}/${o.createdAt.getMonth()}/${o.createdAt.getFullYear()}`),1),n("p",Qe,p(o.text),1)],40,Ye))),128))])])}var Ze=u(je,[["render",Xe],["__scopeId","data-v-37eb1acf"]]);const et={name:"Login",data(){return{email:"",password:"",errorMsg:""}},methods:{async login(){const{setUser:e,decodeJWT:t}=H();if(this.email.trim()!==""&&this.password.trim()!==""){const a={email:this.email,password:this.password},i=await C.loginUser(a);if(i.status===200){const{accessToken:s,refreshToken:r}=i.data,o=t(s);e(o),k.setAccessToken(s),k.setRefreshToken(r),this.email="",this.password=""}else this.errorMsg="Invalid login"}else this.errorMsg="Email and Password and required fields"},hasAccount(){this.$emit("toggle-form",!1)}}},V=e=>(I("data-v-5e209e2c"),e=e(),T(),e),tt=V(()=>n("h1",null,"Login",-1)),st={key:0,class:"error"},ot={class:"input"},rt=V(()=>n("label",{for:"email"},"email",-1)),at={class:"input"},nt=V(()=>n("label",{for:"password"},"password",-1)),it=V(()=>n("input",{type:"submit",value:"login"},null,-1)),ct={class:"toggle"},lt=V(()=>n("p",null,"Don't have an account?",-1));function dt(e,t,a,i,s,r){return c(),d("form",{onSubmit:t[3]||(t[3]=B((...o)=>r.login&&r.login(...o),["prevent"]))},[tt,s.errorMsg.length>0?(c(),d("span",st,p(s.errorMsg),1)):m("",!0),n("div",ot,[rt,v(n("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=o=>s.email=o),type:"text"},null,512),[[y,s.email]])]),n("div",at,[nt,v(n("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=o=>s.password=o),type:"text"},null,512),[[y,s.password]])]),it,n("div",ct,[lt,n("button",{onClick:t[2]||(t[2]=(...o)=>r.hasAccount&&r.hasAccount(...o))},"Register")])],32)}var ut=u(et,[["render",dt],["__scopeId","data-v-5e209e2c"]]);const _t={name:"Register",data(){return{email:"",password:"",repeatPassword:"",username:"",firstName:"",lastName:"",extraToggle:!1,errorMsg:""}},methods:{async onSubmit(e){this.errorMsg="",this.email.trim()!==""&&this.password.trim()!==""&&this.repeatPassword.trim()!==""?this.password.trim()===this.repeatPassword.trim()?await this.createUser(e):this.errorMsg="Passwords don't match":this.errorMsg="Email and Password are required!"},async createUser(e){const{email:t,password:a,username:i,firstName:s,lastName:r}=Object.fromEntries(new FormData(e.target)),o={username:i,password:a,firstName:s,lastName:r,email:t},l=await C.registerUser(o);l.status===201?(this.email="",this.password="",this.repeatPassword="",this.username="",this.firstName="",this.lastName="",this.errorMsg=""):l.status===422?this.errorMsg="Email already in use":this.errorMsg="Something went wrong, try again later"},hasAccount(){this.$emit("toggle-form",!0)}}},$=e=>(I("data-v-9807cb52"),e=e(),T(),e),mt=$(()=>n("h1",null,"Register",-1)),pt={key:0,class:"error"},gt={class:"input"},vt=$(()=>n("label",{for:"email"},"email",-1)),ht=$(()=>n("label",{class:"extra-details",for:"extraToggle"},"Extra details...",-1)),ft={class:"extra"},yt={class:"input"},wt=$(()=>n("label",{for:"username"},"username",-1)),$t={class:"input"},bt=$(()=>n("label",{for:"firstName"},"first",-1)),Pt={class:"input"},kt=$(()=>n("label",{for:"lastName"},"last",-1)),xt={class:"input"},St=$(()=>n("label",{for:"password"},"password",-1)),At={class:"input"},It=$(()=>n("label",{for:"repeatPassword"},"repeat password",-1)),Tt=$(()=>n("input",{type:"submit",value:"register"},null,-1)),Nt={class:"toggle"},Lt=$(()=>n("p",null,"Have an account?",-1));function Ct(e,t,a,i,s,r){return c(),d("form",{onSubmit:t[8]||(t[8]=B((...o)=>r.onSubmit&&r.onSubmit(...o),["prevent"]))},[mt,s.errorMsg.length>0?(c(),d("span",pt,p(s.errorMsg),1)):m("",!0),n("div",gt,[vt,v(n("input",{id:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=o=>s.email=o),type:"text"},null,512),[[y,s.email]])]),v(n("input",{id:"extraToggle",name:"extraToggle","onUpdate:modelValue":t[1]||(t[1]=o=>s.extraToggle=o),type:"checkbox"},null,512),[[ce,s.extraToggle]]),ht,n("div",ft,[n("div",yt,[wt,v(n("input",{id:"username",name:"username","onUpdate:modelValue":t[2]||(t[2]=o=>s.username=o),type:"text"},null,512),[[y,s.username]])]),n("div",$t,[bt,v(n("input",{id:"firstName",name:"firstName","onUpdate:modelValue":t[3]||(t[3]=o=>s.firstName=o),type:"text"},null,512),[[y,s.firstName]])]),n("div",Pt,[kt,v(n("input",{id:"lastName",name:"lastName","onUpdate:modelValue":t[4]||(t[4]=o=>s.lastName=o),type:"text"},null,512),[[y,s.lastName]])])]),n("div",xt,[St,v(n("input",{id:"password",name:"password","onUpdate:modelValue":t[5]||(t[5]=o=>s.password=o),type:"text"},null,512),[[y,s.password]])]),n("div",At,[It,v(n("input",{id:"repeatPassword",name:"repeatPassword","onUpdate:modelValue":t[6]||(t[6]=o=>s.repeatPassword=o),type:"text"},null,512),[[y,s.repeatPassword]])]),Tt,n("div",Nt,[Lt,n("button",{onClick:t[7]||(t[7]=(...o)=>r.hasAccount&&r.hasAccount(...o))},"Login")])],32)}var Ft=u(_t,[["render",Ct],["__scopeId","data-v-9807cb52"]]);const Ut={name:"Home",components:{PostComponent:Ze,Login:ut,Register:Ft},data(){return{isLoggedIn:!1,hasAccount:!1,users:[]}},async created(){const{getIsLoggedIn:e}=H();this.isLoggedIn=e()},methods:{toggleForm(e){this.hasAccount=e}}};function Vt(e,t,a,i,s,r){const o=_("PostComponent"),l=_("Login"),g=_("Register");return c(),d(U,null,[s.isLoggedIn===!0?(c(),b(o,{key:0})):m("",!0),s.hasAccount===!0&&s.isLoggedIn===!1?(c(),b(l,{key:1,onToggleForm:r.toggleForm},null,8,["onToggleForm"])):m("",!0),s.hasAccount===!1&&s.isLoggedIn===!1?(c(),b(g,{key:2,onToggleForm:r.toggleForm},null,8,["onToggleForm"])):m("",!0)],64)}var Mt=u(Ut,[["render",Vt]]),Rt="/assets/mongodb.e2bfe7d8.png",Ot="/assets/mongoose.e352560f.png",Et="/assets/expressjs.40799037.svg",Dt="/assets/vue.77ba2af1.svg",jt="/assets/vite.17e50649.svg",Bt="/assets/node.a2054365.svg";const Ht={name:"About"},qt={class:"container"},zt=Z('<h1 data-v-0e84b287>About the project</h1><dl data-v-0e84b287><dt data-v-0e84b287><span class="mongo" data-v-0e84b287>M</span><span class="express" data-v-0e84b287>E</span><span class="vue" data-v-0e84b287>V</span><span class="node" data-v-0e84b287>N</span> Stack</dt><dd class="mongo" data-v-0e84b287><img alt="mongo" src="'+Rt+'" data-v-0e84b287>Mongo DB<span class="mongoose" data-v-0e84b287>+ Mongoose<img alt="mongoose" src="'+Ot+'" data-v-0e84b287></span></dd><dd class="express" data-v-0e84b287><img alt="express" src="'+Et+'" data-v-0e84b287>Express.js</dd><dd class="vue" data-v-0e84b287><img alt="vue" src="'+Dt+'" data-v-0e84b287>Vue + Vite<img alt="vite" src="'+jt+'" data-v-0e84b287></dd><dd class="node" data-v-0e84b287><img alt="node" src="'+Bt+'" data-v-0e84b287>Node</dd></dl>',2),Jt=[zt];function Wt(e,t,a,i,s,r){return c(),d("div",qt,Jt)}var Kt=u(Ht,[["render",Wt],["__scopeId","data-v-0e84b287"]]);const Yt={name:"ProfileHeader",props:{username:String,img:String,imgAlt:String,backgroundImage:String},computed:{cssProps(){return{"--bgImg":"url("+this.backgroundImage+")"}}}},Gt={class:"hero"},Qt={class:"user"},Xt=["src","alt"];function Zt(e,t,a,i,s,r){return c(),d("div",{style:le(r.cssProps)},[n("div",Gt,[n("div",Qt,[n("img",{src:a.img,alt:a.imgAlt},null,8,Xt),n("h1",null,p(a.username),1)])])],4)}var es=u(Yt,[["render",Zt],["__scopeId","data-v-0bd26600"]]);const ts={name:"ProfileNav",data(){return{active:"overview"}},created(){this.$emit("active",this.active)},methods:{selected(e){this.active=e,this.$emit("active",e)}}},ss={class:"profile-nav"};function os(e,t,a,i,s,r){return c(),d("div",ss,[n("button",{onClick:t[0]||(t[0]=o=>r.selected("overview")),class:S(s.active==="overview"?"active":"")},"Overview",2),n("button",{onClick:t[1]||(t[1]=o=>r.selected("animelist")),class:S(s.active==="animelist"?"active":"")},"AnimeList",2),n("button",{onClick:t[2]||(t[2]=o=>r.selected("favorites")),class:S(s.active==="favorites"?"active":"")},"Favorites",2),n("button",{onClick:t[3]||(t[3]=o=>r.selected("stats")),class:S(s.active==="stats"?"active":"")},"Stats",2),n("button",{onClick:t[4]||(t[4]=o=>r.selected("socials")),class:S(s.active==="socials"?"active":"")},"Socials",2),n("button",{onClick:t[5]||(t[5]=o=>r.selected("reviews")),class:S(s.active==="reviews"?"active":"")},"Reviews",2)])}var rs=u(ts,[["render",os],["__scopeId","data-v-4f775fac"]]);const as={name:"ProfileOverview",data(){return{color:"#ff0000"}},created(){var t,a;this.color=(t=this.getColor())!=null?t:"#ff0000";const e=this.HexToHSL((a=this.getColor())!=null?a:"#ff0000");this.changeColor(e),console.log(this.color)},methods:{setColor(e){localStorage.setItem("color",e)},getColor(){return localStorage.getItem("color")},colorChange(e){const t=this.HexToHSL(e.target.value);this.changeColor(t),this.setColor(e.target.value)},changeColor(e){document.documentElement.style.setProperty("--clr-primary-h",`${e.hue}deg`),document.documentElement.style.setProperty("--clr-primary-s",`${e.saturation}%`)},HexToHSL(e){let t=0,a=0,i=0;e.length==4?(t=`0x${e[1]}${e[1]}`,a=`0x${e[2]}${e[2]}`,i=`0x${e[3]}${e[3]}`):e.length==7&&(t=`0x${e[1]}${e[2]}`,a=`0x${e[3]}${e[4]}`,i=`0x${e[5]}${e[6]}`),t/=255,a/=255,i/=255;let s=Math.min(t,a,i),r=Math.max(t,a,i),o=r-s,l=0,g=0,f=0;return o==0?l=0:r==t?l=(a-i)/o%6:r==a?l=(i-t)/o+2:l=(t-a)/o+4,l=Math.round(l*60),l<0&&(l+=360),f=(r+s)/2,g=o==0?0:o/(1-Math.abs(2*f-1)),g=+(g*100).toFixed(1),f=+(f*100).toFixed(1),{hue:l,saturation:g,lightness:f}}}},ns=F(" Overview ");function is(e,t,a,i,s,r){return c(),d("div",null,[ns,v(n("input",{type:"color","onUpdate:modelValue":t[0]||(t[0]=o=>s.color=o),onInput:t[1]||(t[1]=(...o)=>r.colorChange&&r.colorChange(...o)),name:"colorPicker",id:"colorPicker"},null,544),[[y,s.color]])])}var cs=u(as,[["render",is]]);const ls={name:"ProfileAnimeList"};function ds(e,t,a,i,s,r){return c(),d("div",null," Anime List ")}var us=u(ls,[["render",ds]]);const _s={name:"ProfileFavorites"};function ms(e,t,a,i,s,r){return c(),d("div",null," Favorites ")}var ps=u(_s,[["render",ms]]);const gs={name:"ProfileStats"};function vs(e,t,a,i,s,r){return c(),d("div",null," Stats ")}var hs=u(gs,[["render",vs]]);const fs={name:"ProfileSocials",data(){return{socials:[],socialForm:!1}},created(){this.socials=[{socialName:"ex. Email",socialType:"mailto:",socialValue:"email@email.com"},{socialName:"ex. Phone",socialType:"tel:",socialValue:"8675309"}]},methods:{toggleForm(){this.socialForm=!this.socialForm},async addSocial(e){}}},ys=e=>(I("data-v-12c83278"),e=e(),T(),e),ws={class:"socials"},$s=ys(()=>n("h2",null,"Socials",-1)),bs=Z('<div class="input" data-v-12c83278><label for="socialName" data-v-12c83278>Social</label><input type="text" name="socialName" id="socialName" data-v-12c83278></div><div class="input" data-v-12c83278><label for="socialType" data-v-12c83278>Type</label><select id="socialType" name="socialType" data-v-12c83278><option value="" data-v-12c83278>link</option><option value="tel:" data-v-12c83278>phone</option><option value="mailto:" data-v-12c83278>email</option><option value="other" data-v-12c83278>Other</option></select></div><div class="input" data-v-12c83278><label for="socialValue" data-v-12c83278>Value</label><input type="text" name="socialValue" id="socialValue" data-v-12c83278></div>',3),Ps=[bs],ks={class:"social-label"},xs=F("\xA0 "),Ss={key:0},As=["href"];function Is(e,t,a,i,s,r){return c(),d("div",ws,[$s,n("button",{onClick:t[0]||(t[0]=B((...o)=>r.toggleForm&&r.toggleForm(...o),["prevent"])),class:"addSocial"},"Add Social"),s.socialForm?(c(),d("form",{key:0,onSubmit:t[1]||(t[1]=B((...o)=>r.addSocial&&r.addSocial(...o),["prevent"]))},Ps,32)):m("",!0),(c(!0),d(U,null,Y(s.socials,o=>(c(),d("div",{class:"social-links",key:o.id},[n("p",ks,p(o==null?void 0:o.socialName),1),xs,(o==null?void 0:o.socialType)==="other"?(c(),d("p",Ss,p(o==null?void 0:o.socialValue),1)):(c(),d("a",{key:1,href:(o==null?void 0:o.socialType)+(o==null?void 0:o.socialValue),class:"social-value"},p(o==null?void 0:o.socialValue),9,As))]))),128))])}var Ts=u(fs,[["render",Is],["__scopeId","data-v-12c83278"]]);const Ns={name:"ProfileReviews",data(){return{reviews:[]}},created(){this.reviews=[{anime:"Some_Longer_Anime_Title_Here",reviewId:12345,reviewName:"Anime Review Title",author:"Mr.Joe Blow",comments:[{userId:"0123",userName:"username",comment:"I agree with your review"},{userId:"0124",userName:"username2",comment:"I disagree with your review"}]}]}},Ls={class:"reviews-container"},Cs={class:"review-card"},Fs={class:"review-info"},Us={class:"title"},Vs={class:"anime"},Ms={class:"comments"},Rs={class:"review-author"};function Os(e,t,a,i,s,r){const o=_("router-link");return c(),d("div",Ls,[s.reviews.length>0?(c(!0),d(U,{key:0},Y(s.reviews,l=>(c(),d("div",{key:l.id,class:"review"},[P(o,{to:"/anime/"+l.anime+"/reviews/"+l.reviewId},{default:j(()=>[n("div",Cs,[n("div",Fs,[n("p",Us,p(l.reviewName),1),n("p",Vs,p(l.anime),1),n("p",Ms,"comments "+p(l.comments.length),1)]),n("div",Rs,[n("p",null,p(l.author),1)])])]),_:2},1032,["to"])]))),128)):m("",!0)])}var Es=u(Ns,[["render",Os],["__scopeId","data-v-7f52d4fc"]]);const Ds={name:"Profile",components:{ProfileReviews:Es,ProfileSocials:Ts,ProfileStats:hs,ProfileFavorites:ps,ProfileAnimeList:us,ProfileOverview:cs,ProfileHeader:es,ProfileNav:rs},props:{username:String},data(){return{user:{},email:"",name:"",first:"",last:"",img:"",imgAlt:"",bgImg:"",section:""}},async created(){if(this.$watch(async()=>this.$route.params,async e=>{const{username:t}=await e;if(t){const{data:a}=await C.getUserByUsername(t);await this.updateProfile(a)}}),this.username){const{data:e}=await C.getUserByUsername(this.username);await this.updateProfile(e)}},methods:{activeSection(e){this.section=e},async updateProfile(e){var t,a,i,s;this.email=e==null?void 0:e.email,this.name=(e==null?void 0:e.userName)===""?e==null?void 0:e.email:(t=e==null?void 0:e.userName)!=null?t:"Not Found",this.first=e==null?void 0:e.firstName,this.last=e==null?void 0:e.lastName,this.img=(a=e==null?void 0:e.img)!=null?a:`https://picsum.photos/seed/${this.name}/260/280`,this.imgAlt=(i=e==null?void 0:e.imgAlt)!=null?i:"profile image",this.bgImg=(s=e==null?void 0:e.bgImg)!=null?s:"https://picsum.photos/2000/400"}}},js={class:"content"};function Bs(e,t,a,i,s,r){const o=_("ProfileHeader"),l=_("ProfileNav"),g=_("ProfileOverview"),f=_("ProfileAnimeList"),M=_("ProfileFavorites"),R=_("ProfileStats"),O=_("ProfileSocials"),E=_("ProfileReviews");return c(),d("section",null,[n("header",null,[P(o,{username:s.name,img:s.img,"img-alt":s.imgAlt,"background-image":s.bgImg},null,8,["username","img","img-alt","background-image"]),P(l,{onActive:r.activeSection},null,8,["onActive"]),n("div",js,[s.section==="overview"?(c(),b(g,{key:0})):m("",!0),s.section==="animelist"?(c(),b(f,{key:1})):m("",!0),s.section==="favorites"?(c(),b(M,{key:2})):m("",!0),s.section==="stats"?(c(),b(R,{key:3})):m("",!0),s.section==="socials"?(c(),b(O,{key:4})):m("",!0),s.section==="reviews"?(c(),b(E,{key:5})):m("",!0)])])])}var Hs=u(Ds,[["render",Bs],["__scopeId","data-v-3311a43c"]]);const qs=[{path:"/",name:"Home",component:Mt},{path:"/about",name:"About",component:Kt},{path:"/profile/:username",name:"Profile",component:Hs,props:!0}],zs=de({history:ue("/"),routes:qs,linkExactActiveClass:"active"});_e(De).use(zs).mount("#app");

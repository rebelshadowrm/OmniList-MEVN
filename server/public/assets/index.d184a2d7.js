var se=Object.defineProperty,oe=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var Z=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&Z(e,n,t[n]);if(X)for(var n of X(t))ae.call(t,n)&&Z(e,n,t[n]);return e},q=(e,t)=>oe(e,re(t));import{r as ie,a as ce,c as H,b as m,o as c,d as l,e as a,f as w,w as D,u as N,t as p,g as _,p as k,h as x,i as U,j as W,F,k as g,v as h,l as Y,m as j,n as le,q as P,s as ee,x as de,y as A,z as ue,A as me,B as _e}from"./vendor.74a59342.js";const pe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};pe();var ve="/assets/logo.03d6d6da.png";class b{static getAccessToken(){return localStorage.getItem("access_token")}static setAccessToken(t){localStorage.setItem("access_token",t)}static setRefreshToken(t){localStorage.setItem("refresh_token",t)}static getRefreshToken(){return localStorage.getItem("refresh_token")}static clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}}const C=ie({userData:{user:null},isLoggedIn:!1,loading:!1,error:""}),ge={getIsLoggedIn:()=>H(()=>C.isLoggedIn),getLoading:()=>H(()=>C.loading),getError:()=>H(()=>C.error),getUser:()=>H(()=>C.userData)},te={setUser:e=>{te.setIsLoggedIn(!0),C.userData.user=e},setIsLoggedIn:e=>{C.isLoggedIn=e,e===!1&&(C.userData.user=null,b.clearTokens())},setLoading:e=>{C.loading=e},setError:e=>{C.error=e}},he={decodeJWT:e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch{return null}}};var B=()=>S(S(S({state:ce(C)},ge),te),he);var u=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n};const fe=e=>(k("data-v-69d9317f"),e=e(),x(),e),ye={id:"nav"},Ce=fe(()=>a("img",{class:"logo",src:ve,alt:""},null,-1)),we={class:"nav-items"},$e=U("Home"),Pe=U("About"),be=U("Profile"),ke={key:0},xe=["src"],Se={name:"Header"},Ae=Object.assign(Se,{setup(e){const{getIsLoggedIn:t,getUser:n}=B(),i=t(),s=n();return(r,o)=>{var v,y,M,O,E,R;const d=m("router-link");return c(),l("header",null,[a("nav",ye,[Ce,a("div",we,[w(d,{to:"/"},{default:D(()=>[$e]),_:1}),w(d,{to:"/about"},{default:D(()=>[Pe]),_:1}),w(d,{to:"/profile/"+((v=N(s).user)==null?void 0:v.userName)},{default:D(()=>[be]),_:1},8,["to"])]),N(i)?(c(),l("p",ke,p((O=(M=(y=N(s))==null?void 0:y.user)==null?void 0:M.userName)!=null?O:""),1)):_("",!0),N(i)?(c(),l("img",{key:1,class:"user",src:(R=(E=N(s).user)==null?void 0:E.img)!=null?R:"https://picsum.photos/seed/user/50",alt:""},null,8,xe)):_("",!0)])])}}});var Ie=u(Ae,[["__scopeId","data-v-69d9317f"]]);const Ne={name:"Footer"},Te=e=>(k("data-v-328c9808"),e=e(),x(),e),Le=Te(()=>a("p",null,"OmniList \xA9 2022",-1)),Ue=[Le];function Fe(e,t,n,i,s,r){return c(),l("footer",null,Ue)}var Ve=u(Ne,[["render",Fe],["__scopeId","data-v-328c9808"]]);const f=W.create();f.interceptors.request.use(e=>{const t=b.getAccessToken();return t&&(e.headers.Authorization="Bearer "+t),e.headers["Content-Type"]="application/json",e},e=>{Promise.reject(e)});f.interceptors.response.use(async e=>e,async e=>{if(e.response&&e.response.status===403){console.log("token expired");const t=await Me(e);return console.log("retrying request"),t}return Promise.reject(e)});let J=!1,K=[];async function Me(e){try{const{response:t}=e,n=b.getRefreshToken();if(!n)return console.log("no refresh token"),Promise.reject(e);const i=new Promise(async s=>{await Ee(r=>{t.config.headers.Authorization="Bearer "+r,s(W(t.config))})});if(!J){console.log("fetching access token"),J=!0;const s=await W({method:"post",url:"/api/refresh",data:{token:n}});if(!s.data)return Promise.reject(e);const r=s.data.accessToken;b.setAccessToken(r),J=!1,await Oe(r)}return i}catch(t){return Promise.reject(t)}}async function Oe(e){K.forEach(t=>t(e)),K=[]}async function Ee(e){K.push(e)}const I="/api/";class L{static async getUsers(){return new Promise(async(t,n)=>{try{const s=(await f.get(`${I}user`)).data;t(s.map(r=>q(S({},r),{createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)})))}catch(i){n(i.response)}})}static async getUser(t){try{return await f.get(`${I}user/${t}`)}catch(n){return n.response}}static async getUserByUsername(t){try{return await f.get(`${I}user/username/${t}`)}catch(n){return n.response}}static async registerUser(t){try{return await f.post(`${I}register`,t)}catch(n){return n.response}}static async loginUser(t){try{return await f.post(`${I}login`,t)}catch(n){return n.response}}static async logoutUser(t){try{return await f.post(`${I}logout`,t)}catch(n){return n.response}}}const Re={name:"App",components:{Header:Ie,Footer:Ve},async beforeCreate(){try{const{setUser:e,decodeJWT:t}=B(),n=b.getAccessToken();if(n){const{_id:i}=t(n).user,s=await L.getUser(i);s.status===200&&(console.log(s.data),e(s.data))}}catch(e){console.log(e.message)}}};function He(e,t,n,i,s,r){const o=m("Header"),d=m("router-view"),v=m("Footer");return c(),l(F,null,[w(o),a("main",null,[w(d)]),w(v)],64)}var De=u(Re,[["render",He]]);const z="/api/posts/";class T{static getPosts(){return new Promise(async(t,n)=>{try{const s=(await f.get(z)).data;t(s.map(r=>q(S({},r),{createdAt:new Date(r.createdAt)})))}catch(i){n(i)}})}static insertPost(t){return f.post(z,{text:t})}static deletePost(t){return f.delete(`${z}${t}`)}}const je={name:"PostComponent",data(){return{posts:[],error:"",text:""}},async created(){try{this.posts=await T.getPosts()}catch(e){this.error=e.message}},methods:{async createPost(){await T.insertPost(this.text),this.posts=await T.getPosts(),this.text=""},async deletePost(e){await T.deletePost(e),this.posts=await T.getPosts()}}},G=e=>(k("data-v-37eb1acf"),e=e(),x(),e),Be={class:"container"},qe=G(()=>a("h1",null,"Latest Posts",-1)),Je={class:"create-post"},ze=G(()=>a("label",{for:"create-post"},"Say something...",-1)),We=G(()=>a("hr",null,null,-1)),Ke={key:0,class:"error"},Ye={class:"posts-container"},Ge=["onDblclick"],Qe={class:"created-at"},Xe={class:"text"};function Ze(e,t,n,i,s,r){return c(),l("div",Be,[qe,a("div",Je,[ze,g(a("input",{type:"text",id:"create-post","onUpdate:modelValue":t[0]||(t[0]=o=>s.text=o),placeholder:"Create a post"},null,512),[[h,s.text]]),a("button",{onClick:t[1]||(t[1]=(...o)=>r.createPost&&r.createPost(...o))},"Post!")]),We,s.error?(c(),l("p",Ke,p(s.error),1)):_("",!0),a("div",Ye,[(c(!0),l(F,null,Y(s.posts,o=>(c(),l("div",{class:"post",key:o._id,onDblclick:d=>r.deletePost(o._id)},[a("div",Qe,p(`${o.createdAt.getDate()}/${o.createdAt.getMonth()}/${o.createdAt.getFullYear()}`),1),a("p",Xe,p(o.text),1)],40,Ge))),128))])])}var et=u(je,[["render",Ze],["__scopeId","data-v-37eb1acf"]]);const tt={name:"Login",data(){return{email:"",password:"",errorMsg:""}},methods:{async login(){const{setUser:e,decodeJWT:t}=B();if(this.email.trim()!==""&&this.password.trim()!==""){const n={email:this.email,password:this.password},i=await L.loginUser(n);if(i.status===200){const{accessToken:s,refreshToken:r}=i.data,o=t(s).user;e(o),b.setAccessToken(s),b.setRefreshToken(r),this.email="",this.password=""}else this.errorMsg="Invalid login"}else this.errorMsg="Email and Password and required fields"},hasAccount(){this.$emit("toggle-form",!1)}}},V=e=>(k("data-v-2d81a68a"),e=e(),x(),e),st=V(()=>a("h1",null,"Login",-1)),ot={key:0,class:"error"},rt={class:"input"},nt=V(()=>a("label",{for:"email"},"email",-1)),at={class:"input"},it=V(()=>a("label",{for:"password"},"password",-1)),ct=V(()=>a("input",{type:"submit",value:"login"},null,-1)),lt={class:"toggle"},dt=V(()=>a("p",null,"Don't have an account?",-1));function ut(e,t,n,i,s,r){return c(),l("form",{onSubmit:t[3]||(t[3]=j((...o)=>r.login&&r.login(...o),["prevent"]))},[st,s.errorMsg.length>0?(c(),l("span",ot,p(s.errorMsg),1)):_("",!0),a("div",rt,[nt,g(a("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=o=>s.email=o),type:"text"},null,512),[[h,s.email]])]),a("div",at,[it,g(a("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=o=>s.password=o),type:"text"},null,512),[[h,s.password]])]),ct,a("div",lt,[dt,a("button",{onClick:t[2]||(t[2]=(...o)=>r.hasAccount&&r.hasAccount(...o))},"Register")])],32)}var mt=u(tt,[["render",ut],["__scopeId","data-v-2d81a68a"]]);const _t={name:"Register",data(){return{email:"",password:"",repeatPassword:"",username:"",firstName:"",lastName:"",extraToggle:!1,errorMsg:""}},methods:{async onSubmit(e){this.errorMsg="",this.email.trim()!==""&&this.password.trim()!==""&&this.repeatPassword.trim()!==""?this.password.trim()===this.repeatPassword.trim()?await this.createUser(e):this.errorMsg="Passwords don't match":this.errorMsg="Email and Password are required!"},async createUser(e){const{email:t,password:n,username:i,firstName:s,lastName:r}=Object.fromEntries(new FormData(e.target)),o={username:i,password:n,firstName:s,lastName:r,email:t},d=await L.registerUser(o);d.status===201?(this.email="",this.password="",this.repeatPassword="",this.username="",this.firstName="",this.lastName="",this.errorMsg=""):d.status===422?this.errorMsg="Email already in use":this.errorMsg="Something went wrong, try again later"},hasAccount(){this.$emit("toggle-form",!0)}}},$=e=>(k("data-v-9807cb52"),e=e(),x(),e),pt=$(()=>a("h1",null,"Register",-1)),vt={key:0,class:"error"},gt={class:"input"},ht=$(()=>a("label",{for:"email"},"email",-1)),ft=$(()=>a("label",{class:"extra-details",for:"extraToggle"},"Extra details...",-1)),yt={class:"extra"},Ct={class:"input"},wt=$(()=>a("label",{for:"username"},"username",-1)),$t={class:"input"},Pt=$(()=>a("label",{for:"firstName"},"first",-1)),bt={class:"input"},kt=$(()=>a("label",{for:"lastName"},"last",-1)),xt={class:"input"},St=$(()=>a("label",{for:"password"},"password",-1)),At={class:"input"},It=$(()=>a("label",{for:"repeatPassword"},"repeat password",-1)),Nt=$(()=>a("input",{type:"submit",value:"register"},null,-1)),Tt={class:"toggle"},Lt=$(()=>a("p",null,"Have an account?",-1));function Ut(e,t,n,i,s,r){return c(),l("form",{onSubmit:t[8]||(t[8]=j((...o)=>r.onSubmit&&r.onSubmit(...o),["prevent"]))},[pt,s.errorMsg.length>0?(c(),l("span",vt,p(s.errorMsg),1)):_("",!0),a("div",gt,[ht,g(a("input",{id:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=o=>s.email=o),type:"text"},null,512),[[h,s.email]])]),g(a("input",{id:"extraToggle",name:"extraToggle","onUpdate:modelValue":t[1]||(t[1]=o=>s.extraToggle=o),type:"checkbox"},null,512),[[le,s.extraToggle]]),ft,a("div",yt,[a("div",Ct,[wt,g(a("input",{id:"username",name:"username","onUpdate:modelValue":t[2]||(t[2]=o=>s.username=o),type:"text"},null,512),[[h,s.username]])]),a("div",$t,[Pt,g(a("input",{id:"firstName",name:"firstName","onUpdate:modelValue":t[3]||(t[3]=o=>s.firstName=o),type:"text"},null,512),[[h,s.firstName]])]),a("div",bt,[kt,g(a("input",{id:"lastName",name:"lastName","onUpdate:modelValue":t[4]||(t[4]=o=>s.lastName=o),type:"text"},null,512),[[h,s.lastName]])])]),a("div",xt,[St,g(a("input",{id:"password",name:"password","onUpdate:modelValue":t[5]||(t[5]=o=>s.password=o),type:"text"},null,512),[[h,s.password]])]),a("div",At,[It,g(a("input",{id:"repeatPassword",name:"repeatPassword","onUpdate:modelValue":t[6]||(t[6]=o=>s.repeatPassword=o),type:"text"},null,512),[[h,s.repeatPassword]])]),Nt,a("div",Tt,[Lt,a("button",{onClick:t[7]||(t[7]=(...o)=>r.hasAccount&&r.hasAccount(...o))},"Login")])],32)}var Ft=u(_t,[["render",Ut],["__scopeId","data-v-9807cb52"]]);const Vt={name:"Home",components:{PostComponent:et,Login:mt,Register:Ft},data(){return{isLoggedIn:!1,hasAccount:!1,users:[]}},async created(){const{getIsLoggedIn:e}=B();this.isLoggedIn=e()},methods:{toggleForm(e){this.hasAccount=e}}};function Mt(e,t,n,i,s,r){const o=m("PostComponent"),d=m("Login"),v=m("Register");return c(),l(F,null,[s.isLoggedIn===!0?(c(),P(o,{key:0})):_("",!0),s.hasAccount===!0&&s.isLoggedIn===!1?(c(),P(d,{key:1,onToggleForm:r.toggleForm},null,8,["onToggleForm"])):_("",!0),s.hasAccount===!1&&s.isLoggedIn===!1?(c(),P(v,{key:2,onToggleForm:r.toggleForm},null,8,["onToggleForm"])):_("",!0)],64)}var Ot=u(Vt,[["render",Mt]]),Et="/assets/mongodb.e2bfe7d8.png",Rt="/assets/mongoose.e352560f.png",Ht="/assets/expressjs.40799037.svg",Dt="/assets/vue.77ba2af1.svg",jt="/assets/vite.17e50649.svg",Bt="/assets/node.a2054365.svg";const qt={name:"About"},Jt={class:"container"},zt=ee('<h1 data-v-0e84b287>About the project</h1><dl data-v-0e84b287><dt data-v-0e84b287><span class="mongo" data-v-0e84b287>M</span><span class="express" data-v-0e84b287>E</span><span class="vue" data-v-0e84b287>V</span><span class="node" data-v-0e84b287>N</span> Stack</dt><dd class="mongo" data-v-0e84b287><img alt="mongo" src="'+Et+'" data-v-0e84b287>Mongo DB<span class="mongoose" data-v-0e84b287>+ Mongoose<img alt="mongoose" src="'+Rt+'" data-v-0e84b287></span></dd><dd class="express" data-v-0e84b287><img alt="express" src="'+Ht+'" data-v-0e84b287>Express.js</dd><dd class="vue" data-v-0e84b287><img alt="vue" src="'+Dt+'" data-v-0e84b287>Vue + Vite<img alt="vite" src="'+jt+'" data-v-0e84b287></dd><dd class="node" data-v-0e84b287><img alt="node" src="'+Bt+'" data-v-0e84b287>Node</dd></dl>',2),Wt=[zt];function Kt(e,t,n,i,s,r){return c(),l("div",Jt,Wt)}var Yt=u(qt,[["render",Kt],["__scopeId","data-v-0e84b287"]]);const Gt={name:"ProfileHeader",props:{username:String,img:String,imgAlt:String,backgroundImage:String},computed:{cssProps(){return{"--bgImg":"url("+this.backgroundImage+")"}}}},Qt={class:"hero"},Xt={class:"user"},Zt=["src","alt"];function es(e,t,n,i,s,r){return c(),l("div",{style:de(r.cssProps)},[a("div",Qt,[a("div",Xt,[a("img",{src:n.img,alt:n.imgAlt},null,8,Zt),a("h1",null,p(n.username),1)])])],4)}var ts=u(Gt,[["render",es],["__scopeId","data-v-0bd26600"]]);const ss={name:"ProfileNav",data(){return{active:"overview"}},created(){this.$emit("active",this.active)},methods:{selected(e){this.active=e,this.$emit("active",e)}}},os={class:"profile-nav"};function rs(e,t,n,i,s,r){return c(),l("div",os,[a("button",{onClick:t[0]||(t[0]=o=>r.selected("overview")),class:A(s.active==="overview"?"active":"")},"Overview",2),a("button",{onClick:t[1]||(t[1]=o=>r.selected("animelist")),class:A(s.active==="animelist"?"active":"")},"AnimeList",2),a("button",{onClick:t[2]||(t[2]=o=>r.selected("favorites")),class:A(s.active==="favorites"?"active":"")},"Favorites",2),a("button",{onClick:t[3]||(t[3]=o=>r.selected("stats")),class:A(s.active==="stats"?"active":"")},"Stats",2),a("button",{onClick:t[4]||(t[4]=o=>r.selected("socials")),class:A(s.active==="socials"?"active":"")},"Socials",2),a("button",{onClick:t[5]||(t[5]=o=>r.selected("reviews")),class:A(s.active==="reviews"?"active":"")},"Reviews",2)])}var ns=u(ss,[["render",rs],["__scopeId","data-v-0ef9f7b6"]]);const as={name:"ProfileColorPicker",data(){return{primaryColor:"#000000",secondaryColor:"#000000",accentColor:"#000000",optionalColors:!1}},created(){var n,i,s,r;const e=this.getColor();this.primaryColor=(n=e==null?void 0:e.primaryColor)!=null?n:"#ff0000",this.secondaryColor=(i=e==null?void 0:e.secondaryColor)!=null?i:"#000000",this.accentColor=(s=e==null?void 0:e.accentColor)!=null?s:"#000000";const t=this.HexToHSL((r=e==null?void 0:e.primaryColor)!=null?r:"#ff0000");if(this.setPrimaryColor(t),e!=null&&e.secondaryColor){const o=this.HexToHSL(e.secondaryColor);this.setSecondaryColor(o)}if(e!=null&&e.accentColor){const o=this.HexToHSL(e.accentColor);this.setAccentColor(o)}},methods:{setColor(e){var n,i,s,r;const t=this.getColor();if(t)t.primaryColor=(n=e==null?void 0:e.primaryColor)!=null?n:t.primaryColor,t.secondaryColor=(i=e==null?void 0:e.secondaryColor)!=null?i:t.secondaryColor,t.accentColor=(s=e==null?void 0:e.accentColor)!=null?s:t.accentColor,localStorage.setItem("color",JSON.stringify(t));else{const o={primaryColor:(r=e==null?void 0:e.primaryColor)!=null?r:"#ff0000",secondaryColor:e==null?void 0:e.secondaryColor,accentColor:e==null?void 0:e.accentColor};localStorage.setItem("color",JSON.stringify(o))}},getColor(){return JSON.parse(localStorage.getItem("color"))},colorOnChange(e){const t=this.HexToHSL(e.target.value),n=e.target.dataset.type,i=e.target.value;n==="primaryColor"&&this.setPrimaryColor(t),n==="secondaryColor"&&this.setSecondaryColor(t),n==="accentColor"&&this.setAccentColor(t);const s={[n]:i};this.setColor(s)},setPrimaryColor(e){document.documentElement.style.setProperty("--clr-primary-h",`${e.hue}deg`),document.documentElement.style.setProperty("--clr-primary-s",`${e.saturation}%`)},setSecondaryColor(e){document.documentElement.style.setProperty("--clr-secondary-h",`${e.hue}deg`),document.documentElement.style.setProperty("--clr-secondary-s",`${e.saturation}%`)},setAccentColor(e){document.documentElement.style.setProperty("--clr-accent-h",`${e.hue}deg`),document.documentElement.style.setProperty("--clr-accent-s",`${e.saturation}%`)},unsetColor(e){const t=e.target.dataset.type,n=this.getColor();t==="secondaryColor"&&(n.secondaryColor="",this.secondaryColor="#000000",document.documentElement.style.removeProperty("--clr-secondary-h"),document.documentElement.style.removeProperty("--clr-secondary-s")),t==="accentColor"&&(n.accentColor="",this.accentColor="#000000",document.documentElement.style.removeProperty("--clr-accent-h"),document.documentElement.style.removeProperty("--clr-accent-s")),this.setColor(n)},HexToHSL(e){let t=0,n=0,i=0;e.length==4?(t=`0x${e[1]}${e[1]}`,n=`0x${e[2]}${e[2]}`,i=`0x${e[3]}${e[3]}`):e.length==7&&(t=`0x${e[1]}${e[2]}`,n=`0x${e[3]}${e[4]}`,i=`0x${e[5]}${e[6]}`),t/=255,n/=255,i/=255;let s=Math.min(t,n,i),r=Math.max(t,n,i),o=r-s,d=0,v=0,y=0;return o==0?d=0:r==t?d=(n-i)/o%6:r==n?d=(i-t)/o+2:d=(t-n)/o+4,d=Math.round(d*60),d<0&&(d+=360),y=(r+s)/2,v=o==0?0:o/(1-Math.abs(2*y-1)),v=+(v*100).toFixed(1),y=+(y*100).toFixed(1),{hue:d,saturation:v,lightness:y}}}},Q=e=>(k("data-v-1e11420a"),e=e(),x(),e),is={class:"color-pickers"},cs={class:"color-picker"},ls=Q(()=>a("h2",{class:"primaryColor"},"Primary Color",-1)),ds={key:0,class:"optional-colors"},us={class:"color-picker"},ms=Q(()=>a("h2",{class:"secondaryColor"},"Secondary Color",-1)),_s={class:"color-picker"},ps=Q(()=>a("h2",{class:"accentColor"},"Accent Color",-1));function vs(e,t,n,i,s,r){return c(),l("div",is,[a("div",cs,[g(a("input",{type:"color","data-type":"primaryColor","onUpdate:modelValue":t[0]||(t[0]=o=>s.primaryColor=o),onInput:t[1]||(t[1]=(...o)=>r.colorOnChange&&r.colorOnChange(...o)),name:"primaryColor",id:"primaryColor"},null,544),[[h,s.primaryColor]]),ls]),a("button",{class:"more-options-btn",onClick:t[2]||(t[2]=o=>s.optionalColors=!s.optionalColors)},"more color options"),s.optionalColors?(c(),l("div",ds,[a("div",us,[g(a("input",{type:"color","data-type":"secondaryColor","onUpdate:modelValue":t[3]||(t[3]=o=>s.secondaryColor=o),onInput:t[4]||(t[4]=(...o)=>r.colorOnChange&&r.colorOnChange(...o)),name:"secondaryColor",id:"secondaryColor"},null,544),[[h,s.secondaryColor]]),ms,a("button",{class:"unset-btn",onClick:t[5]||(t[5]=(...o)=>r.unsetColor&&r.unsetColor(...o)),"data-type":"secondaryColor"},"reset")]),a("div",_s,[g(a("input",{type:"color","data-type":"accentColor","onUpdate:modelValue":t[6]||(t[6]=o=>s.accentColor=o),onInput:t[7]||(t[7]=(...o)=>r.colorOnChange&&r.colorOnChange(...o)),name:"accentColor",id:"accentColor"},null,544),[[h,s.accentColor]]),ps,a("button",{class:"unset-btn",onClick:t[8]||(t[8]=(...o)=>r.unsetColor&&r.unsetColor(...o)),"data-type":"accentColor"},"reset")])])):_("",!0)])}var gs=u(as,[["render",vs],["__scopeId","data-v-1e11420a"]]);const hs={name:"ProfileOverview",components:{ProfileColorPicker:gs}},fs=U(" Overview ");function ys(e,t,n,i,s,r){const o=m("ProfileColorPicker");return c(),l("div",null,[fs,w(o)])}var Cs=u(hs,[["render",ys]]);const ws={name:"ProfileAnimeList"};function $s(e,t,n,i,s,r){return c(),l("div",null," Anime List ")}var Ps=u(ws,[["render",$s]]);const bs={name:"ProfileFavorites"};function ks(e,t,n,i,s,r){return c(),l("div",null," Favorites ")}var xs=u(bs,[["render",ks]]);const Ss={name:"ProfileStats"};function As(e,t,n,i,s,r){return c(),l("div",null," Stats ")}var Is=u(Ss,[["render",As]]);const Ns={name:"ProfileSocials",data(){return{socials:[],socialForm:!1}},created(){this.socials=[{socialName:"ex. Email",socialType:"mailto:",socialValue:"email@email.com"},{socialName:"ex. Phone",socialType:"tel:",socialValue:"8675309"}]},methods:{toggleForm(){this.socialForm=!this.socialForm},async addSocial(e){}}},Ts=e=>(k("data-v-12c83278"),e=e(),x(),e),Ls={class:"socials"},Us=Ts(()=>a("h2",null,"Socials",-1)),Fs=ee('<div class="input" data-v-12c83278><label for="socialName" data-v-12c83278>Social</label><input type="text" name="socialName" id="socialName" data-v-12c83278></div><div class="input" data-v-12c83278><label for="socialType" data-v-12c83278>Type</label><select id="socialType" name="socialType" data-v-12c83278><option value="" data-v-12c83278>link</option><option value="tel:" data-v-12c83278>phone</option><option value="mailto:" data-v-12c83278>email</option><option value="other" data-v-12c83278>Other</option></select></div><div class="input" data-v-12c83278><label for="socialValue" data-v-12c83278>Value</label><input type="text" name="socialValue" id="socialValue" data-v-12c83278></div>',3),Vs=[Fs],Ms={class:"social-label"},Os=U("\xA0 "),Es={key:0},Rs=["href"];function Hs(e,t,n,i,s,r){return c(),l("div",Ls,[Us,a("button",{onClick:t[0]||(t[0]=j((...o)=>r.toggleForm&&r.toggleForm(...o),["prevent"])),class:"addSocial"},"Add Social"),s.socialForm?(c(),l("form",{key:0,onSubmit:t[1]||(t[1]=j((...o)=>r.addSocial&&r.addSocial(...o),["prevent"]))},Vs,32)):_("",!0),(c(!0),l(F,null,Y(s.socials,o=>(c(),l("div",{class:"social-links",key:o.id},[a("p",Ms,p(o==null?void 0:o.socialName),1),Os,(o==null?void 0:o.socialType)==="other"?(c(),l("p",Es,p(o==null?void 0:o.socialValue),1)):(c(),l("a",{key:1,href:(o==null?void 0:o.socialType)+(o==null?void 0:o.socialValue),class:"social-value"},p(o==null?void 0:o.socialValue),9,Rs))]))),128))])}var Ds=u(Ns,[["render",Hs],["__scopeId","data-v-12c83278"]]);const js={name:"ProfileReviews",data(){return{reviews:[]}},created(){this.reviews=[{anime:"Some_Longer_Anime_Title_Here",reviewId:12345,reviewName:"Anime Review Title",author:"Mr.Joe Blow",comments:[{userId:"0123",userName:"username",comment:"I agree with your review"},{userId:"0124",userName:"username2",comment:"I disagree with your review"}]}]}},Bs={class:"reviews-container"},qs={class:"review-card"},Js={class:"review-info"},zs={class:"title"},Ws={class:"anime"},Ks={class:"comments"},Ys={class:"review-author"};function Gs(e,t,n,i,s,r){const o=m("router-link");return c(),l("div",Bs,[s.reviews.length>0?(c(!0),l(F,{key:0},Y(s.reviews,d=>(c(),l("div",{key:d.id,class:"review"},[w(o,{to:"/anime/"+d.anime+"/reviews/"+d.reviewId},{default:D(()=>[a("div",qs,[a("div",Js,[a("p",zs,p(d.reviewName),1),a("p",Ws,p(d.anime),1),a("p",Ks,"comments: "+p(d.comments.length),1)]),a("div",Ys,[a("p",null,p(d.author),1)])])]),_:2},1032,["to"])]))),128)):_("",!0)])}var Qs=u(js,[["render",Gs],["__scopeId","data-v-8e3e8d9c"]]);const Xs={name:"Profile",components:{ProfileReviews:Qs,ProfileSocials:Ds,ProfileStats:Is,ProfileFavorites:xs,ProfileAnimeList:Ps,ProfileOverview:Cs,ProfileHeader:ts,ProfileNav:ns},props:{username:String},data(){return{user:{},email:"",name:"",first:"",last:"",img:"",imgAlt:"",bgImg:"",section:""}},async created(){if(this.$watch(async()=>this.$route.params,async e=>{const{username:t}=await e;if(t){const{data:n}=await L.getUserByUsername(t);await this.updateProfile(n)}}),this.username){const{data:e}=await L.getUserByUsername(this.username);await this.updateProfile(e)}},methods:{activeSection(e){this.section=e},async updateProfile(e){var t,n,i,s;this.email=e==null?void 0:e.email,this.name=(e==null?void 0:e.userName)===""?e==null?void 0:e.email:(t=e==null?void 0:e.userName)!=null?t:"Not Found",this.first=e==null?void 0:e.firstName,this.last=e==null?void 0:e.lastName,this.img=(n=e==null?void 0:e.img)!=null?n:`https://picsum.photos/seed/${this.name}/260/280`,this.imgAlt=(i=e==null?void 0:e.imgAlt)!=null?i:"profile image",this.bgImg=(s=e==null?void 0:e.bgImg)!=null?s:"https://picsum.photos/2000/400"}}},Zs={class:"content"};function eo(e,t,n,i,s,r){const o=m("ProfileHeader"),d=m("ProfileNav"),v=m("ProfileOverview"),y=m("ProfileAnimeList"),M=m("ProfileFavorites"),O=m("ProfileStats"),E=m("ProfileSocials"),R=m("ProfileReviews");return c(),l("section",null,[a("header",null,[w(o,{username:s.name,img:s.img,"img-alt":s.imgAlt,"background-image":s.bgImg},null,8,["username","img","img-alt","background-image"]),w(d,{onActive:r.activeSection},null,8,["onActive"]),a("div",Zs,[s.section==="overview"?(c(),P(v,{key:0})):_("",!0),s.section==="animelist"?(c(),P(y,{key:1})):_("",!0),s.section==="favorites"?(c(),P(M,{key:2})):_("",!0),s.section==="stats"?(c(),P(O,{key:3})):_("",!0),s.section==="socials"?(c(),P(E,{key:4})):_("",!0),s.section==="reviews"?(c(),P(R,{key:5})):_("",!0)])])])}var to=u(Xs,[["render",eo],["__scopeId","data-v-3311a43c"]]);const so=[{path:"/",name:"Home",component:Ot},{path:"/about",name:"About",component:Yt},{path:"/profile/:username",name:"Profile",component:to,props:!0}],oo=ue({history:me("/"),routes:so,linkExactActiveClass:"active"});_e(De).use(oo).mount("#app");
